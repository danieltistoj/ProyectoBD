/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package InternalFrame;

import Clases.Exportar;
import Clases.Fichero;
import Clases.Fichero1;
import Clases.VariableGlobal;
import java.util.Locale;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.WindowConstants;

/**
 *
 * @author elmer
 */
public class ExportarBD extends javax.swing.JInternalFrame {

    private Exportar exportar;
    //private Fichero1 fichero;
    private Fichero fichero1;
    private VariableGlobal conexion;

    /**
     * Creates new form ExportarBD
     */
    public ExportarBD() {
        initComponents();
        txtRutaExp.setEnabled(false);
        txtRutaExportacionP.setEnabled(false);
        txtHoraExportacion.setEnabled(false);
        System.out.println("entro");
        fichero1 = new Fichero();
        conexion = new VariableGlobal();
        exportar = new Exportar(conexion.getContra(),conexion.getUsuario(),fichero1.obterBase());
//        setVisible(true);
//        
//        conexion = new VariableGlobal(fichero.getBaseDatos());
//        exportar = new Exportar(conexion.getContra(), conexion.getUsuario(), fichero.getBaseDatos());//la exportacion debe de tener los datos del usuario
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel7 = new javax.swing.JPanel();
        btnExportar = new javax.swing.JButton();
        jLabel17 = new javax.swing.JLabel();
        jLabelBuscar = new javax.swing.JLabel();
        txtRutaExp = new javax.swing.JTextField();
        jPanel9 = new javax.swing.JPanel();
        txtRutaExportacionP = new javax.swing.JTextField();
        txtHoraExportacion = new javax.swing.JTextField();
        btnEditorModi = new javax.swing.JButton();
        jLabel19 = new javax.swing.JLabel();
        btnLimpiarHora = new javax.swing.JButton();
        btnLimpiarRuta = new javax.swing.JButton();
        jLabelBuscar1 = new javax.swing.JLabel();

        setBackground(new java.awt.Color(255, 255, 255));
        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);

        jPanel7.setBackground(new java.awt.Color(255, 51, 0));
        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(null, " Exportacion inmediata", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Dialog", 1, 18), new java.awt.Color(255, 255, 255))); // NOI18N
        jPanel7.setForeground(new java.awt.Color(19, 59, 92));

        btnExportar.setBackground(new java.awt.Color(19, 59, 92));
        btnExportar.setForeground(new java.awt.Color(255, 255, 255));
        btnExportar.setText("Exportar");
        btnExportar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnExportarClickRespaldo(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnExportarEntraRespaldo(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnExportarSaleRespaldo(evt);
            }
        });
        btnExportar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExportarActionPerformed(evt);
            }
        });

        jLabel17.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);

        jLabelBuscar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Img/exportar.png"))); // NOI18N
        jLabelBuscar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelBuscarMouseClicked(evt);
            }
        });

        txtRutaExp.setBackground(new java.awt.Color(255, 255, 255));
        txtRutaExp.setForeground(new java.awt.Color(0, 0, 0));
        txtRutaExp.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, java.awt.Color.black, java.awt.Color.black, java.awt.Color.black, java.awt.Color.black));

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(29, 29, 29)
                        .addComponent(txtRutaExp, javax.swing.GroupLayout.PREFERRED_SIZE, 262, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel17, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnExportar, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(32, 32, 32)
                .addComponent(jLabelBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(15, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(45, 45, 45)
                        .addComponent(jLabelBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(31, 31, 31)
                        .addComponent(txtRutaExp, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(27, 27, 27)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(jLabel17, javax.swing.GroupLayout.DEFAULT_SIZE, 34, Short.MAX_VALUE)
                        .addGap(121, 121, 121))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(45, 45, 45)
                        .addComponent(btnExportar)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );

        jPanel9.setBackground(new java.awt.Color(255, 51, 0));
        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Programar Exportacion", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Dialog", 1, 18), new java.awt.Color(255, 255, 255))); // NOI18N

        txtRutaExportacionP.setBackground(new java.awt.Color(60, 63, 65));
        txtRutaExportacionP.setForeground(new java.awt.Color(255, 255, 255));

        txtHoraExportacion.setBackground(new java.awt.Color(255, 255, 255));
        txtHoraExportacion.setForeground(new java.awt.Color(0, 0, 0));
        txtHoraExportacion.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, java.awt.Color.black, java.awt.Color.black, java.awt.Color.black, java.awt.Color.black));

        btnEditorModi.setBackground(new java.awt.Color(19, 59, 92));
        btnEditorModi.setForeground(new java.awt.Color(255, 255, 255));
        btnEditorModi.setText("Editar");
        btnEditorModi.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnEditorModiMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnEditorModiMouseExited(evt);
            }
        });
        btnEditorModi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEditorModiActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        jLabel19.setForeground(new java.awt.Color(255, 255, 255));
        jLabel19.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel19.setText("Hora de exportacion");

        btnLimpiarHora.setBackground(new java.awt.Color(19, 59, 92));
        btnLimpiarHora.setForeground(new java.awt.Color(255, 255, 255));
        btnLimpiarHora.setText("Limpiar");
        btnLimpiarHora.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnLimpiarHorabtnLimpiarRutaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnLimpiarHorabtnLimpiarRutaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnLimpiarHorabtnLimpiarRutaMouseExited(evt);
            }
        });

        btnLimpiarRuta.setBackground(new java.awt.Color(19, 59, 92));
        btnLimpiarRuta.setForeground(new java.awt.Color(255, 255, 255));
        btnLimpiarRuta.setText("Limpiar");
        btnLimpiarRuta.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnLimpiarRutaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                btnLimpiarRutaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btnLimpiarRutaMouseExited(evt);
            }
        });

        jLabelBuscar1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Img/exportar.png"))); // NOI18N

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel9Layout.createSequentialGroup()
                                    .addGap(102, 102, 102)
                                    .addComponent(btnLimpiarRuta))
                                .addGroup(jPanel9Layout.createSequentialGroup()
                                    .addGap(136, 136, 136)
                                    .addComponent(btnLimpiarHora))
                                .addComponent(txtRutaExportacionP, javax.swing.GroupLayout.PREFERRED_SIZE, 259, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 155, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGap(21, 21, 21)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(btnEditorModi, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(txtHoraExportacion, javax.swing.GroupLayout.PREFERRED_SIZE, 317, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(45, Short.MAX_VALUE))
            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                    .addContainerGap(291, Short.MAX_VALUE)
                    .addComponent(jLabelBuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(34, 34, 34)))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtHoraExportacion, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnEditorModi)
                    .addComponent(btnLimpiarHora, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 25, Short.MAX_VALUE)
                .addComponent(txtRutaExportacionP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnLimpiarRuta)
                .addGap(54, 54, 54))
            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                    .addContainerGap(139, Short.MAX_VALUE)
                    .addComponent(jLabelBuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(88, 88, 88)))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(26, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(48, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnExportarClickRespaldo(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnExportarClickRespaldo

    }//GEN-LAST:event_btnExportarClickRespaldo

    private void btnExportarEntraRespaldo(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnExportarEntraRespaldo

    }//GEN-LAST:event_btnExportarEntraRespaldo

    private void btnExportarSaleRespaldo(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnExportarSaleRespaldo

    }//GEN-LAST:event_btnExportarSaleRespaldo

    private void btnExportarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExportarActionPerformed

        if (txtRutaExp.getText().length() != 0) {
            exportar.setRuta(txtRutaExp.getText());
            exportar.ExportarBase();
            System.out.println(txtRutaExp.getText());
        } else {
            JOptionPane.showMessageDialog(null, "Seleccione un archivo", "Error", JOptionPane.ERROR_MESSAGE);
        }

    }//GEN-LAST:event_btnExportarActionPerformed

    private void btnEditorModiMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnEditorModiMouseEntered

    }//GEN-LAST:event_btnEditorModiMouseEntered

    private void btnEditorModiMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnEditorModiMouseExited

    }//GEN-LAST:event_btnEditorModiMouseExited

    private void btnEditorModiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEditorModiActionPerformed

    }//GEN-LAST:event_btnEditorModiActionPerformed

    private void btnLimpiarHorabtnLimpiarRutaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarHorabtnLimpiarRutaMouseClicked

    }//GEN-LAST:event_btnLimpiarHorabtnLimpiarRutaMouseClicked

    private void btnLimpiarHorabtnLimpiarRutaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarHorabtnLimpiarRutaMouseEntered

    }//GEN-LAST:event_btnLimpiarHorabtnLimpiarRutaMouseEntered

    private void btnLimpiarHorabtnLimpiarRutaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarHorabtnLimpiarRutaMouseExited

    }//GEN-LAST:event_btnLimpiarHorabtnLimpiarRutaMouseExited

    private void btnLimpiarRutaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarRutaMouseClicked

    }//GEN-LAST:event_btnLimpiarRutaMouseClicked

    private void btnLimpiarRutaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarRutaMouseEntered

    }//GEN-LAST:event_btnLimpiarRutaMouseEntered

    private void btnLimpiarRutaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnLimpiarRutaMouseExited

    }//GEN-LAST:event_btnLimpiarRutaMouseExited

    private void jLabelBuscarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelBuscarMouseClicked

        JFileChooser ch = new JFileChooser();
        ch.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        int se = ch.showSaveDialog(null);
        if (se == JFileChooser.APPROVE_OPTION) {
            String ruta = ch.getSelectedFile().getPath();
            txtRutaExp.setText(ruta);
            // fichero.setFicheroRuta(ruta);

        }

        // TODO add your handling code here:
    }//GEN-LAST:event_jLabelBuscarMouseClicked


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnEditorModi;
    private javax.swing.JButton btnExportar;
    private javax.swing.JButton btnLimpiarHora;
    private javax.swing.JButton btnLimpiarRuta;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabelBuscar;
    private javax.swing.JLabel jLabelBuscar1;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JTextField txtHoraExportacion;
    private javax.swing.JTextField txtRutaExp;
    private javax.swing.JTextField txtRutaExportacionP;
    // End of variables declaration//GEN-END:variables
}
